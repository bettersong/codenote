##### 新现金书单（newcoinbook）

###### 1、实验

| 实验字段              | 实验名称                           |
| --------------------- | ---------------------------------- |
| countdown_Bag         | 0.3日历提醒实验                    |
| welfareFeed           | 排行榜书单实验                     |
| withdraw_reward_video | 现金书单提现链路增加看视频实验     |
| is_v5_user            | 新用户0.6提现实验                  |
| is_v5_second_user     | 第二轮玩法实验                     |
| load_Test             | 登录链路实验                       |
| ab_withdraw03_video   | 提现0.3是否需要看视频实验          |
| WithdrawAddCash       | 提现增加看视频得现金金额实验       |
| ab_cashbook_bigwheel  | 书单第三本书后插入大转盘banner实验 |
| ab_withdraw03         | 是否显示0.3元实验                  |

###### 2.组件清理

- toCash---老版提现弹窗，现在使用新版的（0125移除）
- readGuide---阅读引导，沾福气红包，已下线（0125移除）
- bookItemAll---横排瀑布流书单组件，已下线（0125移除）
- newUser---新人单书组件，已下线（0125移除）
- record---提现记录，统一用钱包页的（0125移除）

###### 3、红包进度模块

- 第一轮玩法

  最后100%进度是拆红包，集满0.3可提现（不知是否下线）

- 第二轮玩法

  - 最后100%是抽提现卡，集满可提现100元

  - 其余未提现任务折叠收起

- 0%的0.3提现有三种类型

- 其余进度任务基本一致，第二个红包那里有实验，提现0.6或做任务，倒数第二个红包任务是邀请

- 整个红包进度模块有实验，金额不同，对应的任务也不同

- cpc看视频按钮 / 普通按钮 / t1用户按钮

###### 4、书单模块

- 老版样式书单
  - 有插入大转盘banner实验
- 新版排行榜样式书单
- 在读书籍模块
- 强插单书模块（alone_book）应该下线了

###### 5、扩展模块

- 新人福利模块（/activity/cashbook/newUserWelfare）
  - 有两种类型
- 阅读15分钟提现0.3元横幅
- 阅读`X`s加进度横幅（比较复杂，产品反馈收益正向，但并不是很明显，该策略实验已关）
- 阅读任意一章提现0.6元横幅
- 倒计时0.3提现，日历提醒横幅
- banner资源位（/activity/timelimit_welfare/banner）
- 置信模块，奖励晒图

###### 6、提现链路

- 每个红包对应的任务提现
- 0%进度0.3提现 -----这里链路比较复杂，有各种策略的弹窗，签到引导，看视频
  - 正常0.3
  - 倒计时0.3
  - 额外0.3提现
- 第二轮集碎片100元提现

###### 7、接口整理（只包含目前首页初始化会调的接口，上：签到部分，下：现金书部分）

**建议将接口数据拆分成首屏与非首屏，非首屏数据延后加载，并且合并一些接口，尽量减少请求，也是为了后期方便维护，现在的接口太分散了。（初始化大概有11个左右）**

![image-20210201215134127](/Users/admin/Desktop/code/my_study/笔记/前端架构/git/images/newcoinbook2.png)

- /wz/task/getSignStatusV6  ------  签到部分接口

**这一块是之前福利页的签到模块移植过来的，现金书单业务改到这一块的东西比较少，需求迭代也不多。**



- /activity/quick/entranceConfig  ------ 快应用宝箱接口
- /advert/treasureInfo  ------ 普通宝箱接口
- /wz/cpc/taskProgress ------ cpc宝箱接口

**现在宝箱接口太分散了，如果后期要再增加宝箱按现在这种模式又得新增接口，并且快应用与cpc宝箱无论是否显示都会去调这两个接口，通过接口返回值来控制的显示与否，所以这里建议将所有宝箱整合在一个接口，后端控制宝箱下发的类型，前端根据类型来显示不同的宝箱，这样方便后面的业务迭代。**

- /activity/timelimit_welfare/banner  ------  新用户限时福利banner接口

****

- /activity/cashbook/infoV2  ------  现金书单主接口

  **为了不影响其它在用这个接口的页面功能，建议将这个接口新复制一个出来，针对newcoinbook做处理，清除以下不需要的数据。**

  ![image-20210201204001517](/Users/admin/Desktop/code/my_study/笔记/前端架构/git/images/newcoinbook1.png)

  

- /activity/cashbook/newUserWelfareBanner  ------  新人阅读15分钟提现0.3banner接口

- /activity/cashbook/extend  ------  现金书单扩展任务接口

- /activity/cashbook/newUserWelfare  ------  现金书单新人福利模块接口

**建议将上面前三个接口统一成一个扩展任务接口，尽量减少发起请求的次数，后期维护也更方便。**



- /activity/cashbook/reading  ------  在读现金书接口

  **这里也不太合理，现在是现金书单页面只需要一本书，这里是返回的分页多本书籍，这个接口其实是在读现金书页面的接口，当时节省开发时间直接用的同一个接口，看是否能将一本在读书在上面那个统一的扩展任务接口返回给前端使用。**



- /fiction/user/getPreference  ------ 新版书单分类接口
- /fiction/search/channel  ------ 新版书单书单列表接口



大转盘新增：阅读比32%，100页阅读11%，次留31%
单书新增：阅读比87%，100页阅读50%，次留40%